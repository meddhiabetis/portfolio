@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme variables (system default) */
:root {
  --fg: 20, 20, 23;
  --bg1: 247, 248, 250;
  --bg2: 255, 255, 255;
  --card: 255, 255, 255;
  --muted: 75, 85, 99;
}
@media (prefers-color-scheme: dark) {
  :root {
    --fg: 242, 243, 245;
    --bg1: 10, 10, 12;
    --bg2: 16, 16, 19;
    --card: 20, 20, 24;
    --muted: 156, 163, 175;
  }
}
html.theme-light {
  --fg: 20, 20, 23;
  --bg1: 247, 248, 250;
  --bg2: 255, 255, 255;
  --card: 255, 255, 255;
  --muted: 75, 85, 99;
}
html.theme-dark, html.dark {
  --fg: 242, 243, 245;
  --bg1: 10, 10, 12;
  --bg2: 16, 16, 19;
  --card: 20, 20, 24;
  --muted: 156, 163, 175;
  color-scheme: dark;
}

html { scroll-behavior: smooth; }
body {
  color: rgb(var(--fg));
  background: linear-gradient(to bottom, rgb(var(--bg1)), rgb(var(--bg2)));
}

/* Layout helpers */
/* Explicit container CSS (avoid @apply container which causes circular dependency) */
.container {
  max-width: 80rem; /* Tailwind's max-w-7xl (approx 1280px) */
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;  /* px-4 */
  padding-right: 1rem;
}

/* responsive container padding */
@media (min-width: 640px) {
  .container {
    padding-left: 1.5rem; /* px-6 */
    padding-right: 1.5rem;
  }
}
@media (min-width: 1024px) {
  .container {
    padding-left: 2rem; /* px-8 */
    padding-right: 2rem;
  }
}

.section { @apply py-16; }
.section h2 { @apply text-3xl font-bold; }

/* Cards / buttons */
.card {
  background-color: rgb(var(--card));
  @apply rounded-xl border border-white/10 shadow-soft;
}
.text-muted { color: rgb(var(--muted)); }

.btn { @apply inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-colors; }
.btn-primary { @apply bg-indigo-600 text-white hover:bg-indigo-700; }
.btn-outline { @apply border border-indigo-600 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-white/5; }

/* Anchor offset for fixed navbar */
[id] { scroll-margin-top: 88px; }

.gradient-text {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Custom shadows and badges */
.shadow-soft {
  box-shadow: 0 8px 24px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.06);
}
.badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
}
.badge-new {
  @apply badge bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300;
}
.badge-primary {
  @apply badge bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300;
}
.badge-muted {
  @apply badge bg-gray-100 text-gray-700 dark:bg-white/10 dark:text-gray-300;
}

/* Horizontal scroll rows */
.h-scroll {
  @apply overflow-x-auto;
  -webkit-overflow-scrolling: touch;
}
.h-scroll::-webkit-scrollbar {
  height: 8px;
}
.h-scroll::-webkit-scrollbar-thumb {
  background: rgba(99,102,241,0.4);
  border-radius: 9999px;
}

/* Chat welcome bubble emphasis */
.chat-welcome {
  @apply bg-indigo-50 text-indigo-900 dark:bg-indigo-900/30 dark:text-indigo-100 border border-indigo-200 dark:border-indigo-800;
}
.chat-typing-dot {
  width: 6px; height: 6px; border-radius: 9999px; background: rgba(107,114,128,1);
  animation: bounce 1s infinite ease-in-out;
}
.chat-typing-dot:nth-child(2) { animation-delay: .12s; }
.chat-typing-dot:nth-child(3) { animation-delay: .24s; }
@keyframes bounce {
  0%, 80%, 100% { transform: translateY(0); opacity: .6; }
  40% { transform: translateY(-4px); opacity: 1; }
}

/* Emphasis helpers */
.kbd {
  @apply px-1.5 py-0.5 rounded border border-white/10 bg-white/60 dark:bg-white/10 text-xs;
}